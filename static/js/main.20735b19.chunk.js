(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{50:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a,r=n(1),c=n.n(r),s=n(20),o=n.n(s),i=n(10),l=n(14),d=Object(l.a)(),u="https://whoisit.eliasschmittel.com/api/",j=n(8),b=n(5),O=n(3),p={LOGIN_USER_PENDING:"LOGIN_USER_PENDING",LOGIN_USER_SUCCESS:"LOGIN_USER_SUCCESS",LOGIN_USER_ERROR:"LOGIN_USER_ERROR",REGISTER_USER_PENDING:"REGISTER_USER_PENDING",REGISTER_USER_SUCCESS:"REGISTER_USER_SUCCESS",REGISTER_USER_ERROR:"REGISTER_USER_ERROR",LOGOUT_USER:"LOGOUT_USER"},h=n(7),_=n.n(h),f=n(12),E=n(2),m=n(11),g=n(32),v=n(33),S=n(36),x=n(37),R=function(e){return e instanceof B?N(e):e instanceof D?A(e):w(e)},y="HTTP_ERROR",C="FORM_ERROR",P="STANDARD_ERROR",T=function(){return{primaryMessage:"Something went wrong.",type:P,status:null,data:{}}},N=function(e){var t=T();return t.primaryMessage=null,t.type=C,t.status=400,t.data=e.data,t},A=function(e){var t=T();return t.type=y,t.status=e.status,t.data=e.data,t.primaryMessage=L(e),t},L=function(e){if(Array.isArray(e.data)&&e.data.length>0)e.primaryMessage=e.data[0];else if("string"===typeof e.data||e.data instanceof String)return e.data;return"Something went wrong. Try again."},w=function(e){return console.error(e),T()},D=function(e){Object(v.a)(n,e);var t=Object(S.a)(n);function n(e,a,r){var c;return Object(g.a)(this,n),(c=t.call(this,e)).status=a,c.data=r,c}return n}(Object(x.a)(Error)),B=function(e){Object(v.a)(n,e);var t=Object(S.a)(n);function n(e,a){var r;return Object(g.a)(this,n),(r=t.call(this,e)).status=400,r.data=a,r}return n}(Object(x.a)(Error)),U="exists",I="min",k="max",F="is_email",H=(a={},Object(m.a)(a,U,{value:void 0,pass:function(e,t){return!!e&&""!==e},errorMessage:function(e,t,n,a){return"".concat(n," cannot be empty!")}}),Object(m.a)(a,I,{value:3,pass:function(e,t){return e.length>=t},errorMessage:function(e,t,n,a){return"".concat(n," has to be at least ").concat(t," characters long!")}}),Object(m.a)(a,k,{value:30,pass:function(e,t){return e.length<=t},errorMessage:function(e,t,n,a){return"".concat(n," has to be shorter than ").concat(t," characters!")}}),Object(m.a)(a,F,{value:void 0,pass:function(e,t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},errorMessage:function(e,t,n,a){return"'".concat(e,"' is not a valid email.")}}),a),G=function(e,t){for(var n={},a=Object.keys(t),r=0;r<a.length;r++){var c=a[r],s=e[c],o=t[c];if(void 0!==s){var i=z(c,s,o);M(i)||(n[c]=i)}}if(!M(n))throw new B("validation error",n)},M=function(e){return JSON.stringify(e)===JSON.stringify({})},z=function(e,t,n){for(var a={},r=Object.keys(n),c=0;c<r.length;c++){var s=r[c],o=J(s,n);o.pass(t,o.value)||(a=Object(E.a)(Object(E.a)({},a),{},Object(m.a)({},s,o.errorMessage(t,o.value,e,s))))}return a},J=function(e,t){var n=t[e],a="object"===typeof n&&null!==n?n:{value:n};return Object(E.a)(Object(E.a)({},H[e]),a)},W=function(e){return e.ok?e.json():e.json().then((function(t){throw new D("(Status: ".concat(e.status,") ").concat(e.statusText),e.status,t.message)}))},Y=u+"users/",Z={login:function(){var e=Object(f.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(t,{email:{exists:!0},password:{exists:!0}}),e.abrupt("return",fetch("https://whoisit.eliasschmittel.com/api/users/login/",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(W));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),register:function(){var e=Object(f.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(t,{email:{exists:!0,is_email:!0,max:64},name:{exists:!0,max:64,min:3},password:{exists:!0,min:6}}),e.abrupt("return",fetch(Y,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(W));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K="JWT_TOKEN",Q=function(e){if(!e)return null;var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)},$=function(e){return Q(e).user},q=function(e){localStorage.setItem(K,e)},V=function(){return localStorage.getItem(K)},X=function(){localStorage.removeItem(K)},ee=function(e){return!e||(new Date).getTime()/1e3>=e.exp},te=function(){return{type:p.LOGIN_USER_PENDING}},ne=function(e,t){return{type:p.LOGIN_USER_SUCCESS,payload:{token:e,user:t}}},ae=function(e){return{type:p.LOGIN_USER_ERROR,payload:e}},re={login:function(e){return function(t){t(te()),Z.login(e).then((function(e){var n=e.access_token,a=$(n);q(n),t(ne(n,a))})).catch((function(e){var n=R(e);t(ae(n))}))}},register:function(e){return function(t){t({type:p.REGISTER_USER_PENDING}),Z.register(e).then((function(n){t({type:p.REGISTER_USER_SUCCESS,payload:n}),d.push({pathname:"/login",state:{registeredUser:e},forceRefresh:!0})})).catch((function(e){var n=R(e);t(function(e){return{type:p.REGISTER_USER_ERROR,payload:e}}(n))}))}},logout:function(e){return X(),e&&d.push(e),{type:p.LOGOUT_USER}}},ce=(n(50),n(0)),se=function(){var e=Object(O.b)(),t=Object(r.useState)(!1),n=Object(b.a)(t,2),a=n[0],s=n[1],o=Object(O.c)((function(e){return e.user.user}));return Object(ce.jsx)("header",{className:"header",children:Object(ce.jsxs)("div",{className:"header__content",children:[Object(ce.jsx)("div",{className:"header__title",children:Object(ce.jsx)(j.a,{to:"/",children:"GuessThePerson"})}),Object(ce.jsxs)("nav",{className:"header__navigation ".concat(a?"header__navigation--open":""),children:[Object(ce.jsx)("button",{className:"header__menu-btn",onClick:function(){return s(!a)},children:Object(ce.jsxs)("div",{className:"header__btn-bars",children:[Object(ce.jsx)("div",{className:"header__btn-bar header__btn-bar--1"}),Object(ce.jsx)("div",{className:"header__btn-bar header__btn-bar--2"}),Object(ce.jsx)("div",{className:"header__btn-bar header__btn-bar--3"})]})}),Object(ce.jsx)("div",{className:"header__links",children:o?Object(ce.jsxs)(c.a.Fragment,{children:[Object(ce.jsx)(j.a,{className:"header__link",to:"/",children:"Home"}),Object(ce.jsx)(j.a,{className:"header__link",to:"/people",children:"People"}),Object(ce.jsx)(j.a,{className:"header__link",to:"/boards",children:"Boards"}),Object(ce.jsx)("button",{className:"header__link",onClick:function(){e(re.logout("/"))},children:"Logout"})]}):Object(ce.jsxs)(c.a.Fragment,{children:[Object(ce.jsx)(j.a,{className:"header__link",to:"/login",children:"Login"}),Object(ce.jsx)(j.a,{className:"header__link",to:"/register",children:"Register"})]})})]})]})})},oe=(n(54),function(e){var t=e.children;return Object(ce.jsxs)("div",{className:"full-page-layout",children:[Object(ce.jsx)(se,{}),Object(ce.jsx)("div",{className:"full-page-layout__left",children:t}),Object(ce.jsx)("div",{className:"full-page-layout__right"})]})}),ie=(n(55),function(){var e=Object(O.c)((function(e){return e.user.user}));return e?Object(ce.jsx)(oe,{children:Object(ce.jsx)("div",{className:"wholescreen-flex",children:Object(ce.jsxs)("div",{className:"wholescreen-flex__container hero-card",children:[Object(ce.jsx)("h1",{className:"hero-card__title",children:"Guess who?"}),Object(ce.jsxs)("div",{className:"hero-card__section",children:[e.name," use your boards and people sections to create a custom board to play."]}),Object(ce.jsxs)("div",{className:"hero-card__section hero-card__section--border",children:[Object(ce.jsx)(j.a,{to:"/people",className:"button button--center button--action",children:"People"}),Object(ce.jsx)(j.a,{to:"/boards",className:"button button--center button--action",children:"Boards"})]})]})})}):Object(ce.jsx)(oe,{children:Object(ce.jsx)("div",{className:"wholescreen-flex",children:Object(ce.jsxs)("div",{className:"wholescreen-flex__container hero-card",children:[Object(ce.jsx)("h1",{className:"hero-card__title",children:"Guess who?"}),Object(ce.jsx)("div",{className:"hero-card__section",children:"Create custom game boards and use them to play with friends."}),Object(ce.jsxs)("div",{className:"hero-card__section hero-card__section--border",children:[Object(ce.jsx)(j.a,{to:"/login",className:"button button--center button--action",children:"Login"}),Object(ce.jsx)(j.a,{to:"/register",className:"button button--center button--action",children:"Register"})]})]})})})}),le=function(e){return Object(r.useMemo)((function(){var t={};return e&&e.data&&Object.keys(e.data).forEach((function(n){var a=Object.keys(e.data[n])[0],r=e.data[n][a];t[n]=r})),t}),[e])},de=n(18),ue=(n(56),function(e){var t=e.id,n=e.label,a=e.errorMessage,r=Object(de.a)(e,["id","label","errorMessage"]);return Object(ce.jsxs)("div",{className:"form-input ".concat(a?"form-input--error":""),children:[Object(ce.jsx)("input",Object(E.a)(Object(E.a)({className:"form-input__input",id:t},r),{},{placeholder:""})),Object(ce.jsx)("label",{className:"form-input__label",htmlFor:t,children:n}),Object(ce.jsx)("div",{className:"form-input__error",children:a})]})}),je=(n(57),"warning"),be="success",Oe="info",pe=function(e){var t=e.message,n=e.type,a=Object(r.useMemo)((function(){switch(n){case je:return"form-message-display__warning";case be:return"form-message-display__success";case Oe:return"form-message-display__info";default:return"form-message-display__error"}}),[n]);return Object(ce.jsx)("div",{className:"form-message-display ".concat(a," ").concat(!t&&"form-message-display__hidden"),children:t})},he=(n(58),function(e){var t=e.className;return Object(ce.jsxs)("div",{className:"spinner ".concat(t),children:[Object(ce.jsx)("div",{className:"spinner__rect spinner__rect--1"}),Object(ce.jsx)("div",{className:"spinner__rect spinner__rect--2"}),Object(ce.jsx)("div",{className:"spinner__rect spinner__rect--3"}),Object(ce.jsx)("div",{className:"spinner__rect spinner__rect--4"}),Object(ce.jsx)("div",{className:"spinner__rect spinner__rect--5"})]})}),_e=function(e){var t=e.children,n=e.className,a=e.isLoading,r=e.small,c=Object(de.a)(e,["children","className","isLoading","small"]);return Object(ce.jsxs)("button",Object(E.a)(Object(E.a)({className:"button button--action ".concat(r?"button--small":"button--center"," ").concat(n),disabled:a},c),{},{children:[a&&Object(ce.jsx)(he,{className:"button__loading"}),t]}))},fe=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.user.userLoginPending})),n=Object(O.c)((function(e){return e.user.userLoginError})),a=le(n),c=Object(i.h)().state,s=Object(r.useState)({message:(null===c||void 0===c?void 0:c.registeredUser)?"".concat(c.registeredUser.name," successfully created. You can now login."):null,type:"success"}),o=Object(b.a)(s,2),l=o[0],d=o[1],u=Object(r.useState)({email:"",password:""}),p=Object(b.a)(u,2),h=p[0],_=p[1];!function(){var e=Object(i.g)(),t=Object(O.c)((function(e){return e.user.user})),n=Object(i.h)().state,a=(null===n||void 0===n?void 0:n.referrer)?n.referrer:null;Object(r.useEffect)((function(){if(t){var n=a?a.pathname:"/";e.push(n)}}),[t,e,a])}(),Object(r.useEffect)((function(){n&&n.primaryMessage&&d({message:n.primaryMessage,type:"error"})}),[n]);var f=function(e){_(Object(E.a)(Object(E.a)({},h),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(ce.jsx)("div",{className:"wholescreen-flex",children:Object(ce.jsxs)("div",{className:"wholescreen-flex__container hero-card",children:[Object(ce.jsx)("h1",{className:"hero-card__title",children:"Login"}),Object(ce.jsxs)("form",{className:"hero-card__section",children:[Object(ce.jsx)(pe,{message:l.message,type:l.type}),Object(ce.jsx)(ue,{label:"Email",id:"email",onChange:f,name:"email",value:h.email,errorMessage:null===a||void 0===a?void 0:a.email}),Object(ce.jsx)(ue,{label:"Password",id:"password",type:"password",onChange:f,value:h.password,name:"password",errorMessage:null===a||void 0===a?void 0:a.password}),Object(ce.jsx)(_e,{onClick:function(t){t.preventDefault(),e(re.login(h))},isLoading:t,children:"Login"})]}),Object(ce.jsxs)("div",{className:"hero-card__section hero-card__section--border",children:["Don't have an account yet? ",Object(ce.jsx)(j.a,{to:"/register",children:"Register"})," now to create custom who am I boards with your friends."]})]})})},Ee=function(){return Object(ce.jsx)(oe,{children:Object(ce.jsx)(fe,{})})},me=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.user.registerUserPending})),n=Object(O.c)((function(e){return e.user.registerUserError})),a=le(n),c=Object(r.useState)({message:null,type:"error"}),s=Object(b.a)(c,2),o=s[0],i=s[1];Object(r.useEffect)((function(){n&&n.primaryMessage&&i({message:n.primaryMessage,type:"error"})}),[n]);var l=Object(r.useState)({name:"",email:"",password:""}),d=Object(b.a)(l,2),u=d[0],p=d[1],h=function(e){p(Object(E.a)(Object(E.a)({},u),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(ce.jsx)("div",{className:"wholescreen-flex",children:Object(ce.jsxs)("div",{className:"wholescreen-flex__container hero-card",children:[Object(ce.jsx)("h1",{className:"hero-card__title",children:"Register"}),Object(ce.jsxs)("form",{className:"hero-card__section",children:[Object(ce.jsx)(pe,{message:o.message,type:o.type}),Object(ce.jsx)(ue,{label:"Email",id:"email",name:"email",value:u.email,onChange:h,errorMessage:null===a||void 0===a?void 0:a.email}),Object(ce.jsx)(ue,{label:"Username",id:"name",name:"name",value:u.name,onChange:h,errorMessage:null===a||void 0===a?void 0:a.name}),Object(ce.jsx)(ue,{label:"Password",id:"password",name:"password",type:"password",value:u.password,onChange:h,errorMessage:null===a||void 0===a?void 0:a.password}),Object(ce.jsx)(_e,{onClick:function(t){t.preventDefault(),i({message:null,type:"error"}),e(re.register(u))},isLoading:t,children:"Register"})]}),Object(ce.jsxs)("div",{className:"hero-card__section hero-card__section--border",children:["Already have an account? ",Object(ce.jsx)(j.a,{to:"/login",children:"Login"})," to create a board."]})]})})},ge=function(){return Object(ce.jsx)(oe,{children:Object(ce.jsx)(me,{})})},ve=n(9),Se={PEOPLE_CREATE_START:"PEOPLE_CREATE_START",PEOPLE_CREATE_SUCCESS:"PEOPLE_CREATE_SUCCESS",PEOPLE_CREATE_ERROR:"PEOPLE_CREATE_ERROR",PEOPLE_DELETE_START:"PEOPLE_DELETE_START",PEOPLE_DELETE_SUCCESS:"PEOPLE_DELETE_SUCCESS",PEOPLE_DELETE_ERROR:"PEOPLE_DELETE_ERROR",PEOPLE_UPDATE_START:"PEOPLE_UPDATE_START",PEOPLE_UPDATE_SUCCESS:"PEOPLE_UPDATE_SUCCESS",PEOPLE_UPDATE_ERROR:"PEOPLE_UPDATE_ERROR",PEOPLE_FETCH_ALL_START:"PEOPLE_FETCH_ALL_START",PEOPLE_FETCH_ALL_SUCCESS:"PEOPLE_FETCH_ALL_SUCCESS",PEOPLE_FETCH_ALL_ERROR:"PEOPLE_FETCH_ALL_ERROR",PEOPLE_FETCH_START:"PEOPLE_FETCH_START",PEOPLE_FETCH_SUCCESS:"PEOPLE_FETCH_SUCCESS",PEOPLE_FETCH_ERROR:"PEOPLE_FETCH_ERROR"},xe=u+"people/",Re=function(){var e=Object(f.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xe+"".concat(t),e.abrupt("return",fetch(n,{method:"DELETE",headers:{Authorization:"Bearer "+V()}}).then(W));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye={fetchAllPeople:function(){return fetch(xe,{method:"GET",headers:{Authorization:"Bearer "+V(),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()}))},createPerson:function(){var e=Object(f.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(t,{name:{exists:!0,max:20},image:{exists:!0}}),(n=new FormData).append("name",t.name),n.append("image",t.image),e.abrupt("return",fetch(xe,{method:"POST",body:n,headers:{Authorization:"Bearer "+V()}}).then(W));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deletePerson:Re},Ce={fetchAllPeople:function(){return function(e){e({type:Se.PEOPLE_FETCH_ALL_START}),ye.fetchAllPeople().then((function(t){e({type:Se.PEOPLE_FETCH_ALL_SUCCESS,payload:t})})).catch((function(t){e(function(e){return{type:Se.PEOPLE_FETCH_ALL_ERROR,payload:e}}(t))}))}},createPerson:function(e){return function(){var t=Object(f.a)(_.a.mark((function t(n){var a,r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=function(e){return{type:Se.PEOPLE_CREATE_SUCCESS,payload:e}},r=function(e){return{type:Se.PEOPLE_CREATE_ERROR,payload:e}},n(function(){return{type:Se.PEOPLE_CREATE_START}}()),ye.createPerson(e).then((function(e){n(a(e))})).catch((function(e){var t=R(e);n(r(t))}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deletePerson:function(e){return function(t){t({type:Se.PEOPLE_DELETE_START,payload:{id:e}}),ye.deletePerson(e).then((function(e){t(function(e){return{type:Se.PEOPLE_DELETE_SUCCESS,payload:{id:e}}}(e.id))})).catch((function(n){t(function(e,t){return{type:Se.PEOPLE_DELETE_ERROR,payload:{id:e,error:t}}}(e,n))}))}}},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(r.useState)(e),n=Object(b.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(null),o=Object(b.a)(s,2),i=o[0],l=o[1],d=Object(r.useRef)(null),u=Object(r.useState)({unit:"%",aspect:3/4}),j=Object(b.a)(u,2),O=j[0],p=j[1],h=function(){var e=Object(f.a)(_.a.mark((function e(){var t,n,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(d&&O.width&&O.height)){e.next=8;break}return e.next=3,E(d.current,O,"newFile.jpeg");case 3:t=e.sent,n=window.URL.createObjectURL(t),c(n),a=new File([t],i.name),l(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e,t,n){var a=document.createElement("canvas"),r=window.devicePixelRatio,c=e.naturalWidth/e.width,s=e.naturalHeight/e.height,o=a.getContext("2d");return a.width=t.width*r*c,a.height=t.height*r*s,o.setTransform(r,0,0,r,0,0),o.imageSmoothingQuality="high",o.drawImage(e,t.x*c,t.y*s,t.width*c,t.height*s,0,0,t.width*c,t.height*s),new Promise((function(e,t){a.toBlob((function(t){t?e(t):console.error("Canvas is empty")}),"image/jpeg",1)}))},m=Object(r.useCallback)((function(e){d.current=e,d.current.crossOrigin="anonymous"}),[]);return{crop:O,img:a,setImg:c,setCrop:p,onImageLoad:m,cropImage:h,imgFile:i,setImgFile:l}},Te=(n(59),function(e){var t=e.show,n=e.setShow,a=e.className,r=e.children,c=e.title,s=e.onClose;return Object(ce.jsx)("div",{className:"overlay ".concat(!t&&"overlay--hidden"),children:Object(ce.jsxs)("div",{className:"overlay__container ".concat(a||""),children:[Object(ce.jsxs)("div",{className:"overlay__title",children:[c,Object(ce.jsx)("div",{className:"overlay__close",onClick:function(){n(!1),s&&s()},children:Object(ce.jsx)(ve.g,{})})]}),Object(ce.jsx)("div",{className:"overlay__content",children:r})]})})}),Ne=n(39),Ae=n.n(Ne),Le=(n(71),n(72),function(e){var t=e.src,n=e.crop,a=e.setCrop,r=e.onImageLoad,c=e.onImageSelect,s=e.errorMessage;return Object(ce.jsxs)("div",{className:"image-selector ".concat(s&&"image-selector--error"),children:[t?Object(ce.jsx)(Ae.a,{src:t,crop:n,onChange:function(e){return a(e)},onImageLoaded:r}):Object(ce.jsxs)("label",{className:"image-selector__input-label",children:["Select Image",Object(ce.jsx)("input",{className:"image-selector__input",type:"file",onChange:c})]}),Object(ce.jsx)("div",{className:"form-input__error",children:s})]})}),we=(n(73),function(e){var t=e.setShowOverlay,n=e.showOverlay,a=Object(O.b)(),c=Object(r.useState)(""),s=Object(b.a)(c,2),o=s[0],i=s[1],l=Pe(),d=l.crop,u=l.setCrop,j=l.onImageLoad,p=l.cropImage,h=l.img,_=l.setImg,f=l.setImgFile,E=l.imgFile,m=Object(r.useState)({message:"",type:"error"}),g=Object(b.a)(m,2),v=g[0],S=(g[1],Object(O.c)((function(e){return e.people.create.createPersonError}))),x=Object(r.useState)(!1),R=Object(b.a)(x,2),y=R[0],C=R[1],P=Object(O.c)((function(e){return e.people.create.createPersonPending})),T=le(S);Object(r.useEffect)((function(){P?C(!0):!P&&y&&(C(!1),i(""),_(null),f(null))}),[P]);var N=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){return _(t.result)})),f(e.target.files[0]),t.readAsDataURL(e.target.files[0])}};return Object(ce.jsx)(Te,{setShow:t,show:n,className:"person-overlay",title:"Create New Person",onClose:function(){f(null),_(null),i("")},children:Object(ce.jsxs)("form",{children:[Object(ce.jsx)(pe,{message:v.message,type:v.type}),Object(ce.jsx)(ue,{label:"name",id:"person-name",name:"name",value:o,onChange:function(e){i(e.target.value)},errorMessage:T.name}),Object(ce.jsx)(Le,{src:h,crop:d,setCrop:u,onImageLoad:j,crossorigin:"anonymous",onImageSelect:N,errorMessage:T.image}),Object(ce.jsxs)("div",{className:"person-overlay__buttons",children:[Object(ce.jsx)(_e,{onClick:function(e){e.preventDefault();var t={name:o,image:E};a(Ce.createPerson(t))},isLoading:!1,small:!0,children:"Save"}),Object(ce.jsx)(_e,{onClick:function(e){e.preventDefault(),p()},isLoading:!1,small:!0,children:"Crop"}),Object(ce.jsxs)("label",{className:"button button--action button--small",onClick:N,children:["ChangeImage",Object(ce.jsx)("input",{type:"file",style:{display:"none"},onChange:N})]})]})]})})}),De=(n(74),function(e){var t=e.title,n=e.children,a=Object(O.c)((function(e){return e.user.user}));return Object(ce.jsxs)("div",{className:"page-section page-title-section",children:[Object(ce.jsxs)("h1",{className:"page-title-section__title",children:[a.name," | ",t]}),Object(ce.jsx)("div",{className:"page-title-section__body",children:n})]})}),Be=n(29),Ue=(n(75),function(){return Object(ce.jsxs)("div",{className:"loading-spinner",children:[Object(ce.jsx)("div",{}),Object(ce.jsx)("div",{}),Object(ce.jsx)("div",{}),Object(ce.jsx)("div",{}),Object(ce.jsx)("div",{}),Object(ce.jsx)("div",{}),Object(ce.jsx)("div",{}),Object(ce.jsx)("div",{}),Object(ce.jsx)("div",{}),Object(ce.jsx)("div",{}),Object(ce.jsx)("div",{}),Object(ce.jsx)("div",{})]})}),Ie=function(e){var t=e.show;return Object(ce.jsx)("div",{className:"loading-incidator ".concat(t&&"loading-incidator--show"),children:Object(ce.jsx)(Ue,{})})},ke=(n(76),Object(Be.b)((function(e){var t=e.children,n=e.person,a=e.selected,c=e.selectable,s=e.onClick,o=Object(r.useRef)(),i=Object(r.useState)(null),l=Object(b.a)(i,2),d=l[0],j=l[1],O=function(){var e=Object(f.a)(_.a.mark((function e(){var t,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&(t=u+n.image_url,(a=new Image).onload=function(){j(a)},a.src=t);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){O()}),[n]);return Object(ce.jsxs)("div",{className:"people-card ".concat(a?"people-card--selected":""," ").concat(c?"people-card--selectable":""),ref:o,onClick:function(e){s(n)},children:[Object(ce.jsx)("div",{className:"people-card__flex-container",children:Object(ce.jsx)("div",{className:"people-card__img-container",children:Object(ce.jsx)("img",{src:d?d.src:null,alt:"card: ".concat(n.name)})})}),Object(ce.jsx)("div",{className:"people-card__name",title:n.name,children:n.name}),t]})})));ke.defaultProps={person:null,selected:!1,hideOptions:!1,onClick:function(){}};var Fe=ke,He=(n(77),"standard"),Ge="auto_fit",Me=function(e){return Object(ce.jsx)(ze,Object(E.a)(Object(E.a)({},e),{},{distance:1,shouldCancelStart:function(e){if(-1!==["input","textarea","select","option"].indexOf(e.target.tagName.toLowerCase()))return!0},getHelperDimensions:function(e){var t=e.node;return{width:t.offsetWidth,height:t.offsetHeight}}}))},ze=Object(Be.a)((function(e){var t=e.id,n=e.card,a=e.items,c=e.sortable,s=e.hideOptions,o=e.selected,i=e.onClick,l=e.isLoading,d=e.emptyMessage,u=e.displayType,j=Object(r.useMemo)((function(){switch(u){case Ge:return"people-list people-list--auto-fit";default:return"people-list"}}),[u]);return Object(ce.jsxs)("div",{className:j,children:[Object(ce.jsx)(Ie,{show:l}),0===a.length&&Object(ce.jsx)(pe,{message:d||"There are currently no people to display",type:"info"}),Object(ce.jsx)("div",{className:"people-list__items",children:a.map((function(e,a){var r=1===o.filter((function(t){return e.id===t})).length;return Object(ce.jsx)(n,{person:e,index:a,disabled:!c,selected:r,hideOptions:s,onClick:i,selectable:!!o},t+e.id)}))})]})}));Me.defaultProps={people:[],sortable:!1,selected:[],hideOptions:!0,onClick:function(){},card:Fe,displayType:He};var Je=Me,We=function(e){var t=e.person,n=Object(de.a)(e,["person"]),a=Object(O.b)();return Object(ce.jsx)(Fe,Object(E.a)(Object(E.a)({},n),{},{person:t,children:Object(ce.jsx)("div",{className:"people-card__overlay",onClick:function(e){a(Ce.deletePerson(t.id))},children:Object(ce.jsxs)("div",{children:[Object(ce.jsx)(ve.h,{})," Delete"]})})}))},Ye=(n(78),function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.people.people.peopleList})),n=Object(O.c)((function(e){return e.people.people.peopleByID})),a=Object(O.c)((function(e){return e.people.people.fetchAllPeoplePending})),c=Object(r.useState)(""),s=Object(b.a)(c,2),o=s[0],i=s[1],l=Object(r.useState)([]),d=Object(b.a)(l,2),u=d[0],j=d[1],p=Object(r.useState)(!1),h=Object(b.a)(p,2),_=h[0],f=h[1];Object(r.useEffect)((function(){e(Ce.fetchAllPeople())}),[e]),Object(r.useEffect)((function(){if(n){var e=t.map((function(e){return n[e]}));j(e)}f(!1)}),[n,t]);var E=function(e){var a=t.map((function(t){var a=n[t];return a.name.toLowerCase().includes(e.toLowerCase())?a:null})).filter((function(e){return null!==e}));j(a)};return Object(ce.jsxs)("div",{className:"page page--fullscreen page--flex",children:[Object(ce.jsx)(se,{}),Object(ce.jsxs)("div",{className:"page__content page__content--container",children:[Object(ce.jsx)(De,{title:"People Overview",children:Object(ce.jsxs)("div",{className:"people-overview-header__controlls",children:[Object(ce.jsx)("div",{className:"people-overview-header__input",children:Object(ce.jsx)(ue,{label:"search",value:o,onChange:function(e){i(e.target.value),E(e.target.value)}})}),Object(ce.jsxs)("div",{className:"people-overview-header__button",children:[" ",Object(ce.jsxs)("button",{className:"button button--action",onClick:function(){f(!0)},children:[Object(ce.jsx)(ve.d,{}),"New Person"]})]})]})}),Object(ce.jsx)("div",{className:"page-section",children:Object(ce.jsx)(Je,{items:u,hideOptions:!1,isLoading:a,emptyMessage:o?"There are no people with the name '".concat(o,"'"):null,card:We})}),Object(ce.jsx)(we,{setShowOverlay:f,showOverlay:_})]})]})}),Ze={BOARDS_CREATE_START:"BOARDS_CREATE_START",BOARDS_CREATE_SUCCESS:"BOARDS_CREATE_SUCCESS",BOARDS_CREATE_ERROR:"BOARDS_CREATE_ERROR",BOARDS_EDIT_START:"BOARDS_EDIT_START",BOARDS_EDIT_SUCCESS:"BOARDS_EDIT_SUCCESS",BOARDS_EDIT_ERROR:"BOARDS_EDIT_ERROR",BOARDS_DELETE_START:"BOARDS_DELETE_START",BOARDS_DELETE_SUCCESS:"BOARDS_DELETE_SUCCESS",BOARDS_DELETE_ERROR:"BOARDS_DELETE_ERROR",BOARDS_FETCH_ALL_START:"BOARDS_FETCH_ALL_START",BOARDS_FETCH_ALL_SUCCESS:"BOARDS_FETCH_ALL_SUCCESS",BOARDS_FETCH_ALL_ERROR:"BOARDS_FETCH_ALL_ERROR",BOARDS_FETCH_ONE_START:"BOARDS_FETCH_ONE_START",BOARDS_FETCH_ONE_SUCCESS:"BOARDS_FETCH_ONE_SUCCESS",BOARDS_FETCH_ONE_ERROR:"BOARDS_FETCH_ONE_ERROR"},Ke=u+"boards/",Qe=function(){var e=Object(f.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(t,{title:{exists:!0}}),e.abrupt("return",fetch(Ke,{method:"POST",body:JSON.stringify(t),headers:{Authorization:"Bearer "+V(),Accept:"application/json","Content-Type":"application/json"}}).then(W));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e={fetchAll:function(){return fetch(Ke,{method:"GET",headers:{Authorization:"Bearer "+V()}}).then((function(e){return e.json()}))},fetchOne:function(){var e=Object(f.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ke+t,e.abrupt("return",fetch(n,{method:"GET",headers:{Authorization:"Bearer "+V()}}).then(W));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createBoard:Qe,updateBoard:function(){var e=Object(f.a)(_.a.mark((function e(t,n){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(n,{title:{exists:!0}}),a=Ke+t,e.abrupt("return",fetch(a,{method:"PUT",body:JSON.stringify(n),headers:{Authorization:"Bearer "+V(),Accept:"application/json","Content-Type":"application/json"}}).then(W));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deleteBoard:function(){var e=Object(f.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ke+t,e.abrupt("return",fetch(n,{method:"DELETE",headers:{Authorization:"Bearer "+V()}}).then(W));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},qe={fetchAllBoards:function(){return function(e){e({type:Ze.BOARDS_FETCH_ALL_START}),$e.fetchAll().then((function(t){e({type:Ze.BOARDS_FETCH_ALL_SUCCESS,payload:t})})).catch((function(t){e(function(e){return{type:Ze.BOARDS_FETCH_ALL_ERROR,payload:e}}(t))}))}},fetchOneBoard:function(e){return function(t){t({type:Ze.BOARDS_FETCH_ONE_START}),$e.fetchOne(e).then((function(e){t({type:Ze.BOARDS_FETCH_ONE_SUCCESS,payload:e})})).catch((function(e){var n=R(e);t(function(e){return{type:Ze.BOARDS_FETCH_ONE_ERROR,payload:e}}(n))}))}},createBoard:function(e){return function(t){t({type:Ze.BOARDS_CREATE_START}),$e.createBoard(e).then((function(e){t({type:Ze.BOARDS_CREATE_SUCCESS,payload:e}),d.push({pathname:"/boards/".concat(e.id,"/edit")})})).catch((function(e){var n=R(e);t(function(e){return{type:Ze.BOARDS_CREATE_ERROR,payload:e}}(n))}))}},updateBoard:function(e,t){return function(n){n({type:Ze.BOARDS_EDIT_START}),$e.updateBoard(e,t).then((function(e){n({type:Ze.BOARDS_EDIT_SUCCESS,payload:e})})).catch((function(e){n(function(e){return{type:Ze.BOARDS_EDIT_ERROR,payload:e}}(e))}))}},deleteBaord:function(e){return function(t){t({type:Ze.BOARDS_DELETE_START}),$e.deleteBoard(e).then((function(n){t(function(e){return{type:Ze.BOARDS_DELETE_SUCCESS,payload:e}}(e)),d.push({pathname:"/boards"})})).catch((function(e){var n=R(e);t(function(e){return{type:Ze.BOARDS_DELETE_ERROR,payload:e}}(n))}))}}},Ve=function(e){var t=e.showOverlay,n=e.setShowOverlay,a=Object(O.b)(),c=Object(O.c)((function(e){return e.boards.create.createBoardPending})),s=Object(O.c)((function(e){return e.boards.create.createBoardError})),o=le(s),i=Object(r.useState)(""),l=Object(b.a)(i,2),d=l[0],u=l[1],j=Object(r.useState)({message:"",type:"error"}),p=Object(b.a)(j,2),h=p[0];p[1];return Object(ce.jsx)(Te,{setShow:n,show:t,title:"Create New Board",children:Object(ce.jsxs)("form",{children:[Object(ce.jsx)(pe,{message:h.message,type:h.type}),Object(ce.jsx)(ue,{label:"title",id:"board-title",name:"title",value:d,onChange:function(e){u(e.target.value)},errorMessage:o.title}),Object(ce.jsx)(_e,{onClick:function(e){e.preventDefault();var t={title:d};a(qe.createBoard(t))},isLoading:c,children:"Create Board"})]})})},Xe=(n(79),function(e){var t=e.board;return Object(ce.jsxs)("div",{className:"board-preview",children:[Object(ce.jsx)("div",{className:"board-preview__feature-img",style:{backgroundImage:"url('/board.png')"}}),Object(ce.jsx)("div",{className:"board-preview__title",children:t.title}),Object(ce.jsxs)("div",{className:"board-preview__buttons",children:[Object(ce.jsxs)(j.a,{to:"/boards/".concat(t.id,"/edit"),className:"board-preview__btn board-preview__edit-btn",children:[Object(ce.jsx)(ve.c,{})," Edit"]}),Object(ce.jsxs)(j.a,{to:"/boards/".concat(t.id),className:"board-preview__btn board-preview__play-btn",children:[Object(ce.jsx)(ve.c,{})," Play"]})]})]})}),et=(n(80),c.a.memo((function(e){var t=e.boards,n=e.emptyMessage;return Object(ce.jsxs)("div",{className:"boards-list",children:[Object(ce.jsx)("div",{className:"boards-list__items",children:t&&t.map((function(e){return Object(ce.jsx)(Xe,{id:e.id,board:e},e.id)}))}),0===t.length&&Object(ce.jsx)(pe,{message:n,type:"info"})]})})));et.defaultProps={emptyMessage:"There aren't currently any boards. Create One.",boards:[]};var tt=et,nt=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.boards.boards.byId})),n=Object(O.c)((function(e){return e.boards.boards.list})),a=Object(O.c)((function(e){return e.boards.boards.fetchAllPending})),c=Object(O.c)((function(e){return e.boards.boards.fetchAllError})),s=Object(r.useState)(""),o=Object(b.a)(s,2),i=o[0],l=o[1],d=Object(r.useState)(!1),u=Object(b.a)(d,2),j=u[0],p=u[1],h=Object(r.useState)([]),_=Object(b.a)(h,2),f=_[0],E=_[1];Object(r.useEffect)((function(){e(qe.fetchAllBoards())}),[e]),Object(r.useEffect)((function(){E(n.map((function(e){return t[e]})))}),[t,n]);return Object(ce.jsxs)("div",{className:"page page--fullscreen page--flex",children:[Object(ce.jsx)(se,{}),Object(ce.jsxs)("div",{className:"page__content page__content--container",children:[Object(ce.jsx)(De,{title:"Boards",children:Object(ce.jsxs)("div",{className:"people-overview-header__controlls",children:[Object(ce.jsx)("div",{className:"people-overview-header__input",children:Object(ce.jsx)(ue,{label:"search",value:i,onChange:function(e){l(e.target.value);var a=n.map((function(n){var a=t[n];return a.title.toLowerCase().includes(e.target.value)?a:null})).filter((function(e){return null!==e}));E(a)}})}),Object(ce.jsxs)("div",{className:"people-overview-header__button",children:[" ",Object(ce.jsxs)("button",{className:"button button--action",onClick:function(){p(!0)},children:[Object(ce.jsx)(ve.d,{}),"New Board"]})]})]})}),Object(ce.jsx)("div",{className:"page-section",children:Object(ce.jsx)(tt,{boards:f,isLoading:a,error:c})})]}),Object(ce.jsx)(Ve,{showOverlay:j,setShowOverlay:p})]})},at=n(15),rt=(n(81),function(e){var t=e.setShow,n=e.show,a=e.addPeople,c=Object(O.b)(),s=Object(r.useState)(""),o=Object(b.a)(s,2),i=o[0],l=o[1],d=Object(r.useState)([]),u=Object(b.a)(d,2),j=u[0],p=u[1],h=Object(r.useState)([]),_=Object(b.a)(h,2),f=_[0],E=_[1],m=Object(O.c)((function(e){return e.people.people.peopleByID})),g=Object(O.c)((function(e){return e.people.people.peopleList})),v=Object(r.useMemo)((function(){return g.map((function(e){return m[e]}))}),[g,m]);Object(r.useEffect)((function(){c(Ce.fetchAllPeople())}),[c]),Object(r.useEffect)((function(){p(v)}),[v]);return Object(ce.jsxs)(Te,{setShow:t,show:n,title:"Add People",children:[Object(ce.jsx)("h3",{className:"board-add-people__subtitle",children:"Add new Peopel to your board"}),Object(ce.jsxs)("p",{className:"board-add-people__count-info",children:[" You have currently selected ",f.length," People"]}),Object(ce.jsx)(ue,{label:"Search",id:"search-person",value:i,onChange:function(e){l(e.target.value);var t=e.target.value,n=v.filter((function(e){return e.name.includes(t)}));p(n)}}),Object(ce.jsx)(Je,{items:j,sortable:!1,onClick:function(e){var t=f.includes(e.id)?f.filter((function(t){return t!==e.id})):[].concat(Object(at.a)(f),[e.id]);E(t)},selected:f,displayType:Ge}),Object(ce.jsx)(_e,{onClick:function(){var e=f.map((function(e){return m[e]}));a(e),E([]),l(""),p(v),t(!1)},children:"Add People"})]})}),ct=(n(82),c.a.memo((function(e){var t=e.onChange,n=e.value;return Object(ce.jsxs)("label",{className:"checkbox ".concat(n?"checkbox--checked":""),children:[Object(ce.jsx)("input",{className:"checkbox__input",type:"checkbox",onChange:t,checked:n}),Object(ce.jsxs)("div",{className:"checkbox__inner",children:[Object(ce.jsx)(ve.b,{className:"checkbox__check"}),Object(ce.jsx)(ve.g,{className:"checkbox__times"}),Object(ce.jsx)("div",{className:"checkbox__circle"})]})]})}))),st=(n(83),function(e){var t=e.className,n=e.board,a=Object(O.b)(),c=Object(r.useState)(!1),s=Object(b.a)(c,2),o=s[0],i=s[1],l=Object(r.useState)(!!n&&n.sharing_enabled),d=Object(b.a)(l,2),u=d[0],j=d[1],p=Object(r.useState)(""),h=Object(b.a)(p,2),_=h[0],f=h[1],E=n?"".concat(window.location.hostname,"/boards/").concat(n.id):"",m=function(){setTimeout((function(){f("")}),2e3)};return Object(ce.jsxs)("div",{className:"board-share ".concat(o?"board-share--show":""),children:[Object(ce.jsx)("div",{className:t,onClick:function(){return i(!o)},children:Object(ce.jsx)(ve.f,{})}),Object(ce.jsx)(Te,{setShow:i,title:"Share Board",show:o,children:Object(ce.jsxs)("div",{className:"board-share__container",children:[Object(ce.jsxs)("div",{className:"board-share__public-container",children:[Object(ce.jsx)(ct,{onChange:function(e){if(j(e.target.checked),n){var t={title:n.title,people:n.people.map((function(e){return e.person.id})),sharing_enabled:e.target.checked};a(qe.updateBoard(n.id,t))}},value:u}),Object(ce.jsx)("label",{children:"Share Board public"})]}),Object(ce.jsxs)("div",{className:"board-share__input-container",children:[Object(ce.jsx)("input",{className:"board-share__input",type:"text",value:E,name:"share-link",readOnly:!0}),Object(ce.jsx)("button",{className:"board-share__copy-btn",onClick:function(){navigator.clipboard.writeText(E).then((function(){f("Copying to clipboard was successful!"),m()}),(function(e){f("Could not copy text: "),m()}))},children:"Copy Link"})]}),Object(ce.jsx)(pe,{message:_,type:"info"})]})})]})}),ot=(n(84),function(e){var t=e.isLoading;return Object(ce.jsx)("div",{className:"loading-overlay ".concat(t?"loading-overlay--show":""),children:Object(ce.jsx)(he,{})})}),it=(n(85),function(e){var t=e.title,n=e.message;return Object(ce.jsx)("div",{className:"not-found",children:Object(ce.jsxs)("div",{className:"not-found__container",children:[Object(ce.jsx)(ve.e,{}),Object(ce.jsx)("h1",{className:"not-found__title",children:t}),Object(ce.jsx)("p",{className:"not-found__message",children:n})]})})});it.defaultProps={title:"Not Found",message:""};var lt=it,dt=function(e){var t=e.person,n=e.onRemoveClick,a=Object(de.a)(e,["person","onRemoveClick"]);return Object(ce.jsx)(Fe,Object(E.a)(Object(E.a)({},a),{},{person:t,children:Object(ce.jsxs)("div",{className:"people-card__overlay-edit",children:[Object(ce.jsxs)("div",{className:"expanding-btn",title:"remove",onClick:function(e){n(t)},children:[Object(ce.jsx)("div",{className:"expanding-btn__text",children:"Remove"}),Object(ce.jsx)("div",{className:"expanding-btn__icon",children:Object(ce.jsx)(ve.h,{})})]}),Object(ce.jsx)("div",{className:"people-card__edit-drag",children:"Drag to order"})]})}))},ut=(n(86),function(){var e=Object(i.i)().boardId,t=Object(O.b)(),n=Object(O.c)((function(e){return e.boards.boards.byId})),a=Object(O.c)((function(e){return e.boards.edit.editBoardPending})),s=Object(O.c)((function(e){return e.boards.boards.fetchOnePending})),o=Object(r.useState)(!1),l=Object(b.a)(o,2),d=l[0],u=l[1],p=Object(r.useState)("Loading..."),h=Object(b.a)(p,2),_=h[0],f=h[1],m=Object(r.useState)([]),g=Object(b.a)(m,2),v=g[0],S=g[1],x=n[e];Object(r.useEffect)((function(){t(qe.fetchOneBoard(e))}),[t,e]),Object(r.useEffect)((function(){if(x){f(x.title);var e=x.people?x.people.reduce((function(e,t){return t.person?[].concat(Object(at.a)(e),[t.person]):e}),[]):[];S(e)}}),[x]);return Object(ce.jsxs)("div",{className:"page page--fullscreen page--flex",children:[Object(ce.jsx)(se,{}),s||x?Object(ce.jsxs)(c.a.Fragment,{children:[Object(ce.jsxs)("div",{className:"page__content page__content--container",children:[Object(ce.jsx)(ot,{isLoading:s}),Object(ce.jsxs)(De,{title:"Edit 'Placeholder'",children:[Object(ce.jsxs)("div",{className:"board-edit-controlls",children:[Object(ce.jsx)(st,{className:"share-board-icon",board:x}),Object(ce.jsx)(j.a,{className:"back-to-boards-overview-link",to:"/boards",title:"Back To Boards Overview",children:Object(ce.jsx)(ve.a,{})})]}),Object(ce.jsxs)("div",{className:"edit-board-title-container",children:[Object(ce.jsx)("div",{className:"people-overview-header__input",children:Object(ce.jsx)(ue,{label:"title",value:_,onChange:function(e){f(e.target.value)}})}),Object(ce.jsxs)("div",{className:"people-overview-header__button",children:[" ",Object(ce.jsxs)("button",{className:"button button--mid button--action",onClick:function(){u(!0)},children:[Object(ce.jsx)(ve.d,{}),"Add People"]})]}),Object(ce.jsxs)("div",{className:"people-overview-header__button",children:[" ",Object(ce.jsxs)("button",{className:"button button--mid button--danger",onClick:function(){t(qe.deleteBaord(e))},children:[Object(ce.jsx)(ve.h,{}),"Delete Board"]})]})]})]}),Object(ce.jsxs)("div",{className:"page-section edit-board-body",children:[Object(ce.jsxs)("div",{className:"edit-board-body__save",children:[Object(ce.jsx)(_e,{onClick:function(e){if(e.preventDefault(),x){var n={title:_,people:v.map((function(e){return e.id}))};t(qe.updateBoard(x.id,n))}},isLoading:a,children:"Save"}),Object(ce.jsx)(pe,{message:"",type:"error"})]}),Object(ce.jsx)(Je,{id:"board-edit-people",items:v,sortable:!0,onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex,a=function(e,t,n){e=Object(at.a)(e);var a=t<0?e.length+t:t;if(a>=0&&a<e.length){var r=n<0?e.length+n:n,c=e.splice(t,1),s=Object(b.a)(c,1)[0];e.splice(r,0,s)}return e}(v,t,n);S(a)},axis:"xy",card:function(e){var t=e.person,n=Object(de.a)(e,["person"]);return Object(ce.jsx)(dt,Object(E.a)(Object(E.a)({person:t},n),{},{onRemoveClick:function(){return function(e){var t=v.filter((function(t){return t.id!==e.id}));S(t)}(t)}}))}})]})]}),Object(ce.jsx)(rt,{title:"Edit board",show:d,setShow:u,addPeople:function(e){for(var t=[],n=function(n){var a=!1;v.forEach((function(t){t.id===e[n].id&&(a=!0)})),a?console.log(e[n].id+" already exists"):t.push(e[n])},a=0;a<e.length;a++)n(a);S([].concat(Object(at.a)(v),t))}})]}):Object(ce.jsx)("div",{className:"page__content page__content--container",children:Object(ce.jsx)(lt,{title:"No Board Found",message:"can't find board with id '".concat(e,"'")})})]})}),jt=(n(87),function(e){var t=e.card,n=e.pos,a=e.onCardClick,c=Object(r.useRef)(),s=Object(r.useState)(0),o=Object(b.a)(s,2),i=o[0],l=o[1];return Object(r.useEffect)((function(){var e=c.current.offsetWidth;l(4*e/3)}),[]),Object(ce.jsx)("div",{className:"board-display__card-socket",ref:c,style:{height:i},children:Object(ce.jsxs)("div",{className:"board-display__card ".concat(t.open&&"board-display__card--open"),onClick:function(){return a(n)},children:[Object(ce.jsx)("div",{className:"board-display__card-back"}),Object(ce.jsx)("div",{className:"board-display__card-front",children:Object(ce.jsxs)("div",{className:"board-display__card-container",children:[Object(ce.jsx)("div",{className:"board-display__card-img-container",style:t.person?{backgroundImage:"url('".concat(u+t.person.image_url,"')")}:{backgroundImage:"url('".concat(u+"uploads/card-unplaced.png","')")}}),Object(ce.jsx)("div",{title:t.person?t.person.name:"Unplaced",className:"board-display__card-title",children:t.person?t.person.name:"Unplaced"})]})})]})})}),bt=function(e){var t,n=e.people,a=Object(r.useState)((t=24,Object(at.a)(new Array(t)).map((function(e){return{open:!0,person:null}})))),c=Object(b.a)(a,2),s=c[0],o=c[1];Object(r.useEffect)((function(){for(var e=[],t=0;t<s.length;t++){var a=s[t];n&&n[s.length-t-1]?e.push(Object(E.a)(Object(E.a)({},a),{},{person:n[s.length-t-1]})):e.push(a)}o(e)}),[n]);var i=function(e){var t=Object(at.a)(s);t[e].open=!t[e].open,o(t)};return Object(ce.jsxs)("div",{className:"board-display__container",children:[Object(ce.jsx)("div",{className:"board-display",children:s.map((function(e,t){return Object(ce.jsx)(jt,{card:e,pos:t,onCardClick:i},"board-display-card-".concat(t))}))}),Object(ce.jsx)("button",{className:"board-display-open-all-btn",onClick:function(){var e=s.map((function(e){return e.open=!0,e}));o(e)},children:"Open All"})]})},Ot=function(){var e=Object(i.i)().boardId,t=Object(O.b)(),n=Object(O.c)((function(t){return t.boards.boards.byId[e]})),a=Object(O.c)((function(e){return e.boards.boards.fetchOnePending})),s=Object(r.useState)([]),o=Object(b.a)(s,2),l=o[0],d=o[1];return Object(r.useEffect)((function(){var e=[];n&&(e=n.people.map((function(e){return e.person}))),d(e)}),[n]),Object(r.useEffect)((function(){t(qe.fetchOneBoard(e))}),[t,e]),Object(ce.jsxs)("div",{className:"page page--fullscreen page--flex",children:[Object(ce.jsx)(se,{}),Object(ce.jsx)("div",{className:"page__content page__content--container",children:a||n?Object(ce.jsxs)(c.a.Fragment,{children:[Object(ce.jsx)(ot,{isLoading:a}),Object(ce.jsx)(bt,{people:l})]}):Object(ce.jsx)(lt,{title:"Board Not Found",message:"No board with id '".concat(e," found.'")})})]})},pt=function(e){var t=e.component,n=Object(de.a)(e,["component"]),a=function(e){var t=Object(O.b)(),n=Object(O.c)((function(e){return e.user.auth_token})),a=ee(Q(n));return n&&a&&t(re.logout()),n&&!a}();return Object(ce.jsx)(i.b,Object(E.a)(Object(E.a)({},n),{},{render:function(e){return a?Object(ce.jsx)(t,Object(E.a)({},e)):Object(ce.jsx)(i.a,{to:{pathname:"/login",state:{referrer:e.location}}})}}))};n(88);console.log(u);var ht=function(){return Object(ce.jsx)("div",{className:"App",children:Object(ce.jsx)(i.c,{history:d,children:Object(ce.jsxs)(i.d,{children:[Object(ce.jsx)(i.b,{path:"/register",component:ge}),Object(ce.jsx)(i.b,{path:"/login",component:Ee}),Object(ce.jsx)(pt,{path:"/people",component:Ye}),Object(ce.jsx)(pt,{path:"/boards/:boardId/edit",component:ut}),Object(ce.jsx)(pt,{path:"/boards/:boardId",component:Ot}),Object(ce.jsx)(pt,{path:"/boards",component:nt}),Object(ce.jsx)(i.b,{path:"/",component:ie})]})})})},_t=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,90)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},ft=n(19),Et=n(41),mt=V(),gt={user:null,auth_token:null};if(mt){var vt=Q(mt);ee(vt)?X():gt={user:vt.user,auth_token:mt}}var St=Object(E.a)(Object(E.a)({user:null,auth_token:null,userLoginPending:!1,userLoginError:null},gt),{},{registeredUser:null,registerUserPending:!1,registerUserError:null}),xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.REGISTER_USER_SUCCESS:return Object(E.a)(Object(E.a)({},e),{},{registeredUser:t.payload,registerUserPending:!1,registerUserError:null});case p.REGISTER_USER_PENDING:return Object(E.a)(Object(E.a)({},e),{},{registeredUser:t.payload,registerUserPending:!0});case p.REGISTER_USER_ERROR:return Object(E.a)(Object(E.a)({},e),{},{registeredUser:null,registerUserPending:!1,registerUserError:t.payload});case p.LOGIN_USER_PENDING:return Object(E.a)(Object(E.a)({},e),{},{userLoginPending:!0});case p.LOGIN_USER_SUCCESS:return Object(E.a)(Object(E.a)({},e),{},{userLoginPending:!1,user:t.payload.user,auth_token:t.payload.token,userLoginError:null});case p.LOGIN_USER_ERROR:return Object(E.a)(Object(E.a)({},e),{},{userLoginPending:!1,userLoginError:t.payload});case p.LOGOUT_USER:return Object(E.a)(Object(E.a)({},e),{},{user:null,auth_token:null});default:return e}},Rt={id:null,name:null,image_url:null,owner:null,deletePending:!1,deleteError:null,updateError:null,updatePending:!1},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se.PEOPLE_DELETE_START:return Object(E.a)(Object(E.a)({},e),{},{deletePending:!0});case Se.PEOPLE_DELETE_ERROR:return Object(E.a)(Object(E.a)({},e),{},{deletePending:!1,deleteError:t.payload.error});case Se.PEOPLE_UPDATE_START:return Object(E.a)(Object(E.a)({},e),{},{updatePending:!0});case Se.PEOPLE_UPDATE_SUCCESS:return Object(E.a)(Object(E.a)(Object(E.a)({},e),t.payload),{},{updatePending:!1});case Se.PEOPLE_UPDATE_ERROR:return Object(E.a)(Object(E.a)({},e),{},{updatePending:!1,updateError:t.payload.error});default:return e}},Ct={fetchPersonPending:!1,fetchPersonError:null,fetchAllPeoplePending:!1,fetchAllPeopleError:null,peopleByID:{},peopleList:[]},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se.PEOPLE_CREATE_SUCCESS:return Object(E.a)(Object(E.a)({},e),{},{peopleList:[].concat(Object(at.a)(e.peopleList),[t.payload.id]),peopleByID:Object(E.a)(Object(E.a)({},e.peopleByID),{},Object(m.a)({},t.payload.id,t.payload))});case Se.PEOPLE_FETCH_ALL_START:return Object(E.a)(Object(E.a)({},e),{},{fetchAllPeoplePending:!0});case Se.PEOPLE_FETCH_ALL_SUCCESS:return Object(E.a)(Object(E.a)({},e),{},{fetchAllPeoplePending:!1,peopleByID:t.payload.reduce((function(e,t){return Object(E.a)(Object(E.a)({},e),{},Object(m.a)({},t.id,t))}),{}),peopleList:t.payload.map((function(e){return e.id}))});case Se.PEOPLE_FETCH_ALL_ERROR:return Object(E.a)(Object(E.a)({},e),{},{fetchAllPeoplePending:!1,fetchAllPeopleError:t.payload});case Se.PEOPLE_DELETE_SUCCESS:return Object(E.a)(Object(E.a)({},e),{},{peopleList:e.peopleList.filter((function(e){return e!==t.payload.id}))});case Se.PEOPLE_DELETE_START:return Object(E.a)(Object(E.a)({},e),{},{peopleByID:Object(E.a)(Object(E.a)({},e.peopleByID),{},Object(m.a)({},t.payload.id,yt(e.peopleByID[t.payload.id],t)))});default:return e}},Tt={createdPerson:null,createPersonError:null,createPersonPending:!1},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se.PEOPLE_CREATE_START:return Object(E.a)(Object(E.a)({},e),{},{createPersonPending:!0,createPersonError:null});case Se.PEOPLE_CREATE_SUCCESS:return Object(E.a)(Object(E.a)({},e),{},{createPersonError:null,createdPerson:t.payload,createPersonPending:!1});case Se.PEOPLE_CREATE_ERROR:return Object(E.a)(Object(E.a)({},e),{},{createPersonError:t.payload,createdPerson:null,createPersonPending:!1});default:return e}},At=Object(ft.b)({create:Nt,people:Pt}),Lt={fetchAllPending:!1,fetchAllError:null,fetchOnePending:!1,fetchOneError:null,byId:{},list:[]},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.BOARDS_FETCH_ALL_START:return Object(E.a)(Object(E.a)({},e),{},{fetchAllPending:!0});case Ze.BOARDS_FETCH_ALL_SUCCESS:return Object(E.a)(Object(E.a)({},e),{},{fetchAllPending:!1,byId:t.payload.reduce((function(e,t){return Object(E.a)(Object(E.a)({},e),{},Object(m.a)({},t.id,t))}),{}),list:t.payload.map((function(e){return e.id}))});case Ze.BOARDS_FETCH_ALL_ERROR:return Object(E.a)(Object(E.a)({},e),{},{fetchAllPending:!1,fetchAllError:t.payload});case Ze.BOARDS_FETCH_ONE_START:return Object(E.a)(Object(E.a)({},e),{},{fetchOnePending:!0,fetchOneError:null});case Ze.BOARDS_FETCH_ONE_SUCCESS:return Object(E.a)(Object(E.a)({},e),{},{fetchOnePending:!1,fetchOneError:null,byId:Object(E.a)(Object(E.a)({},e.byId),{},Object(m.a)({},t.payload.id,t.payload))});case Ze.BOARDS_FETCH_ONE_ERROR:return Object(E.a)(Object(E.a)({},e),{},{fetchOnePending:!1,fetchOneError:t.payload});case Ze.BOARDS_CREATE_SUCCESS:return Object(E.a)(Object(E.a)({},e),{},{byId:Object(E.a)(Object(E.a)({},e.byId),{},Object(m.a)({},t.payload.id,t.payload)),list:[t.payload.id].concat(Object(at.a)(e.list))});case Ze.BOARDS_EDIT_SUCCESS:return Object(E.a)(Object(E.a)({},e),{},{byId:Object(E.a)(Object(E.a)({},e.byId),{},Object(m.a)({},t.payload.id,t.payload))});default:return e}},Dt={createBoardPending:!1,createBoardError:null,createdBoard:null},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.BOARDS_CREATE_START:return Object(E.a)(Object(E.a)({},e),{},{createBoardPending:!0});case Ze.BOARDS_CREATE_SUCCESS:return Object(E.a)(Object(E.a)({},e),{},{createBoardPending:!1,createdBoard:t.payload,createBoardError:null});case Ze.BOARDS_CREATE_ERROR:return Object(E.a)(Object(E.a)({},e),{},{createBoardPending:!1,createBoardError:t.payload});default:return e}},Ut={editBoardPending:!1,editBoardError:null,editedBoard:null},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.BOARDS_EDIT_START:return Object(E.a)(Object(E.a)({},e),{},{editBoardPending:!0});case Ze.BOARDS_EDIT_SUCCESS:return Object(E.a)(Object(E.a)({},e),{},{editBoardPending:!1,editedBoard:t.payload,editBoardError:null});case Ze.BOARDS_EDIT_ERROR:return Object(E.a)(Object(E.a)({},e),{},{editBoardPending:!1,editBoardError:t.payload});default:return e}},kt=Object(ft.b)({boards:wt,create:Bt,edit:It}),Ft=Object(ft.b)({user:xt,people:At,boards:kt}),Ht=[Et.a],Gt=ft.c.apply(void 0,[ft.a.apply(void 0,Ht)].concat([])),Mt=Object(ft.d)(Ft,{},Gt);o.a.render(Object(ce.jsx)(c.a.StrictMode,{children:Object(ce.jsx)(O.a,{store:Mt,children:Object(ce.jsx)(ht,{})})}),document.getElementById("root")),_t()}},[[89,1,2]]]);
//# sourceMappingURL=main.20735b19.chunk.js.map